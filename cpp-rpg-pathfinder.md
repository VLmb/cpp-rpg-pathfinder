# Описание лабораторной работы

## Общая идея и цель

Разрабатывается приложение на C++ с использованием Qt (Qt Creator), предназначенное для работы с графами на клеточной карте. Карта представляет собой сетку размера n×n с различными типами поверхностей (биомами). Пользователь может вручную задать граф на этой карте, выбрав клетки-вершины и установив между ними рёбра.

После задания графа пользователь выбирает:
- тип героя
- стартовую вершину
- конечную вершину

Приложение находит оптимальный по времени путь между стартом и финишем с учётом:
- проходимости карты
- характеристик героя
- структуры пользовательского графа

## Карта (grid) и типы поверхностей

Карта — это матрица n×n, где каждая клетка хранит terrainType: тип поверхности (например PLAIN, FOREST, SWAMP, MOUNTAIN, WATER).

Для генерации карты используется процедурный шум Perlin или Simplex, позволяющий получать связные области поверхностей с естественными границами. Генерация выполняется без использования готовых библиотек — алгоритм реализуется вручную.

Для каждой клетки (x, y) вычисляется числовое значение шума v(x, y) (после нормализации в диапазон [0;1]). Значения шума плавно меняются по карте, благодаря чему соседние клетки имеют близкие значения. На основе значения v(x, y) и заранее заданных порогов клетке назначается тип поверхности.

## Герои

В системе предусмотрено несколько типов героев (например, люди, эльфы, гномы). Каждый герой характеризуется:
- базовой скоростью перемещения;
- коэффициентами проходимости по каждому типу поверхности;
- (опционально) запасом здоровья.

## Граф

Пользователь взаимодействует с картой следующим образом:
- выбирает клетки и помечает их как вершины графа;
- соединяет выбранные вершины рёбрами;
- задаёт стартовую и конечную вершины.

Граф задаёт разрешённые переходы между вершинами, но не заменяет реальное перемещение по карте.

## Поиск оптимального пути

**Расчёт веса рёбер (A\*)**
Для каждой пары соединённых вершин используется алгоритм A*, работающий на уровне клеточной карты. Алгоритм учитывает:
- тип поверхности;
- характеристики героя;

Результатом работы A* является стоимость ребра — минимальное время перехода между двумя вершинами.

**Поиск пути по графу (Дейкстра)**
После вычисления весов рёбер запускается алгоритм Дейкстры по пользовательскому графу. Итогом является оптимальный маршрут между стартовой и конечной вершинами.

## Архитектура проекта

Grid.h - представляет собой двумерный массив n на n. У каждой клетки есть тип, соответствующий типу поверхности.

Graph.h - хранит в себе Grid.h, а также список смежности для вершин. Каждая вершина - struct Edge c координатами на сетке.
